---
interface PostLink {
    title: string;
    slug: string;
}

interface Props {
    prevPost?: PostLink;
    nextPost?: PostLink;
    lang?: "en" | "ru";
}

const { prevPost, nextPost, lang = "en" } = Astro.props;

const labels = {
    en: {
        prev: "Previous",
        next: "Next",
    },
    ru: {
        prev: "Предыдущая",
        next: "Следующая",
    },
};

const currentLabels = labels[lang];
---

<div class="post-navigation">
    <div class="nav-container">
        {
            prevPost ? (
                <a href={prevPost.slug} class="nav-link prev glass-panel">
                    <span class="label">← {currentLabels.prev}</span>
                    <span class="title">{prevPost.title}</span>
                </a>
            ) : (
                <div class="spacer" />
            )
        }

        {
            nextPost ? (
                <a href={nextPost.slug} class="nav-link next glass-panel">
                    <span class="label">{currentLabels.next} →</span>
                    <span class="title">{nextPost.title}</span>
                </a>
            ) : (
                <div class="spacer" />
            )
        }
    </div>
</div>

<style>
    .post-navigation {
        margin-top: 4rem;
        padding-top: 2rem;
        border-top: var(--glass-border);
    }
    .nav-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
    }
    .nav-link {
        display: flex;
        flex-direction: column;
        padding: 1.5rem;
        text-decoration: none;
        transition: var(--transition);
        border: var(--glass-border);
    }
    .nav-link:hover {
        border-color: var(--accent);
        background: rgba(255, 255, 255, 0.05);
        transform: translateY(-3px);
    }
    .nav-link.next {
        text-align: right;
        align-items: flex-end;
    }
    .label {
        font-family: "Fira Code", monospace;
        font-size: 0.8rem;
        color: var(--accent);
        text-transform: uppercase;
        margin-bottom: 0.5rem;
    }
    .title {
        color: #fff;
        font-weight: 600;
        font-size: 1.1rem;
        line-height: 1.3;
    }
    .spacer {
        display: none;
    }

    @media (max-width: 640px) {
        .nav-container {
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        .nav-link.next {
            text-align: left;
            align-items: flex-start;
        }
    }
</style>
